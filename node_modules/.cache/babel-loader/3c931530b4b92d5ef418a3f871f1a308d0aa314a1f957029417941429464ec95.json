{"ast":null,"code":"import{useMemo,useState}from\"react\";import{BarChart,Bar,XAxis,YAxis,Tooltip,ResponsiveContainer,PieChart,Pie,Cell,Legend}from\"recharts\";import tareasPorGrupo from\"../data/tareas.json\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS={pendiente:\"#facc15\",\"en curso\":\"#fcd34d\",finalizado:\"#4ade80\"};export default function Dashboard(){const grupos=Object.keys(tareasPorGrupo);const[grupoSeleccionado,setGrupoSeleccionado]=useState(grupos[0]);const tareas=useMemo(()=>tareasPorGrupo[grupoSeleccionado]||[],[grupoSeleccionado]);const tareasPorEstado=useMemo(()=>{return[\"pendiente\",\"en curso\",\"finalizado\"].map(estado=>({estado,cantidad:tareas.filter(t=>t.status===estado).length}));},[tareas]);const tareasPorResponsable=useMemo(()=>{const conteo={};tareas.forEach(t=>{const owner=t.owner||\"Sin responsable\";conteo[owner]=(conteo[owner]||0)+1;});return Object.entries(conteo).map(_ref=>{let[owner,cantidad]=_ref;return{owner,cantidad};});},[tareas]);const total=tareas.length;const finalizadas=tareas.filter(t=>t.status===\"finalizado\").length;const porcentajeFinalizadas=total>0?(finalizadas/total*100).toFixed(1):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-8 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-darkGray\",children:\"Dashboard de Tareas\"}),/*#__PURE__*/_jsx(\"select\",{value:grupoSeleccionado,onChange:e=>setGrupoSeleccionado(e.target.value),className:\"p-2 border rounded text-sm\",children:grupos.map(grupo=>/*#__PURE__*/_jsx(\"option\",{value:grupo,children:grupo},grupo))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(Card,{title:\"Pendientes\",value:tareasPorEstado[0].cantidad,bg:\"bg-yellow-100\"}),/*#__PURE__*/_jsx(Card,{title:\"En Curso\",value:tareasPorEstado[1].cantidad,bg:\"bg-yellow-200\"}),/*#__PURE__*/_jsx(Card,{title:\"Finalizadas\",value:tareasPorEstado[2].cantidad,bg:\"bg-green-200\"}),/*#__PURE__*/_jsx(Card,{title:\"% Finalizadas\",value:`${porcentajeFinalizadas}%`,bg:\"bg-gray-800 text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:\"Tareas por Estado\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:tareasPorEstado,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"estado\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"cantidad\",children:tareasPorEstado.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[entry.estado]},index))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:\"Tareas por Responsable\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:tareasPorResponsable,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"owner\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"cantidad\",fill:\"#60a5fa\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:\"Tareas Finalizadas vs Totales\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsxs(Pie,{data:[{name:\"Finalizadas\",value:finalizadas},{name:\"No finalizadas\",value:total-finalizadas}],dataKey:\"value\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:[/*#__PURE__*/_jsx(Cell,{fill:\"#4ade80\"}),/*#__PURE__*/_jsx(Cell,{fill:\"#f87171\"})]}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Tooltip,{})]})})]})]});}function Card(_ref2){let{title,value,bg}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:`rounded-xl p-4 shadow ${bg}`,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-md font-semibold\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:value})]});}","map":{"version":3,"names":["useMemo","useState","BarChart","Bar","XAxis","YAxis","Tooltip","ResponsiveContainer","PieChart","Pie","Cell","Legend","tareasPorGrupo","jsx","_jsx","jsxs","_jsxs","COLORS","pendiente","finalizado","Dashboard","grupos","Object","keys","grupoSeleccionado","setGrupoSeleccionado","tareas","tareasPorEstado","map","estado","cantidad","filter","t","status","length","tareasPorResponsable","conteo","forEach","owner","entries","_ref","total","finalizadas","porcentajeFinalizadas","toFixed","className","children","value","onChange","e","target","grupo","Card","title","bg","width","height","data","dataKey","entry","index","fill","name","cx","cy","outerRadius","label","_ref2"],"sources":["D:/App Movida plus/gestor-tareas-final/src/pages/Dashboard.js"],"sourcesContent":["import { useMemo, useState } from \"react\";\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer,\r\n  PieChart, Pie, Cell, Legend\r\n} from \"recharts\";\r\nimport tareasPorGrupo from \"../data/tareas.json\";\r\n\r\nconst COLORS = {\r\n  pendiente: \"#facc15\",\r\n  \"en curso\": \"#fcd34d\",\r\n  finalizado: \"#4ade80\"\r\n};\r\n\r\nexport default function Dashboard() {\r\n  const grupos = Object.keys(tareasPorGrupo);\r\n  const [grupoSeleccionado, setGrupoSeleccionado] = useState(grupos[0]);\r\n\r\n  const tareas = useMemo(() => tareasPorGrupo[grupoSeleccionado] || [], [grupoSeleccionado]);\r\n\r\n  const tareasPorEstado = useMemo(() => {\r\n    return [\"pendiente\", \"en curso\", \"finalizado\"].map((estado) => ({\r\n      estado,\r\n      cantidad: tareas.filter((t) => t.status === estado).length\r\n    }));\r\n  }, [tareas]);\r\n\r\n  const tareasPorResponsable = useMemo(() => {\r\n    const conteo = {};\r\n    tareas.forEach((t) => {\r\n      const owner = t.owner || \"Sin responsable\";\r\n      conteo[owner] = (conteo[owner] || 0) + 1;\r\n    });\r\n    return Object.entries(conteo).map(([owner, cantidad]) => ({ owner, cantidad }));\r\n  }, [tareas]);\r\n\r\n  const total = tareas.length;\r\n  const finalizadas = tareas.filter((t) => t.status === \"finalizado\").length;\r\n  const porcentajeFinalizadas = total > 0 ? ((finalizadas / total) * 100).toFixed(1) : 0;\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-8 flex-1\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-darkGray\">Dashboard de Tareas</h1>\r\n        <select\r\n          value={grupoSeleccionado}\r\n          onChange={(e) => setGrupoSeleccionado(e.target.value)}\r\n          className=\"p-2 border rounded text-sm\"\r\n        >\r\n          {grupos.map((grupo) => (\r\n            <option key={grupo} value={grupo}>{grupo}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Tarjetas */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <Card title=\"Pendientes\" value={tareasPorEstado[0].cantidad} bg=\"bg-yellow-100\" />\r\n        <Card title=\"En Curso\" value={tareasPorEstado[1].cantidad} bg=\"bg-yellow-200\" />\r\n        <Card title=\"Finalizadas\" value={tareasPorEstado[2].cantidad} bg=\"bg-green-200\" />\r\n        <Card title=\"% Finalizadas\" value={`${porcentajeFinalizadas}%`} bg=\"bg-gray-800 text-white\" />\r\n      </div>\r\n\r\n      {/* Gráfico por estado */}\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">Tareas por Estado</h2>\r\n        <ResponsiveContainer width=\"100%\" height={300}>\r\n          <BarChart data={tareasPorEstado}>\r\n            <XAxis dataKey=\"estado\" />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Bar dataKey=\"cantidad\">\r\n              {tareasPorEstado.map((entry, index) => (\r\n                <Cell key={index} fill={COLORS[entry.estado]} />\r\n              ))}\r\n            </Bar>\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Gráfico por responsable */}\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">Tareas por Responsable</h2>\r\n        <ResponsiveContainer width=\"100%\" height={300}>\r\n          <BarChart data={tareasPorResponsable}>\r\n            <XAxis dataKey=\"owner\" />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Bar dataKey=\"cantidad\" fill=\"#60a5fa\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Gráfico de torta */}\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">Tareas Finalizadas vs Totales</h2>\r\n        <ResponsiveContainer width=\"100%\" height={250}>\r\n          <PieChart>\r\n            <Pie\r\n              data={[\r\n                { name: \"Finalizadas\", value: finalizadas },\r\n                { name: \"No finalizadas\", value: total - finalizadas }\r\n              ]}\r\n              dataKey=\"value\"\r\n              cx=\"50%\"\r\n              cy=\"50%\"\r\n              outerRadius={80}\r\n              label\r\n            >\r\n              <Cell fill=\"#4ade80\" />\r\n              <Cell fill=\"#f87171\" />\r\n            </Pie>\r\n            <Legend />\r\n            <Tooltip />\r\n          </PieChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Card({ title, value, bg }) {\r\n  return (\r\n    <div className={`rounded-xl p-4 shadow ${bg}`}>\r\n      <h3 className=\"text-md font-semibold\">{title}</h3>\r\n      <p className=\"text-2xl font-bold\">{value}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}